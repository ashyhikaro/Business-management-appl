"use strict";(self.webpackChunkfirebase_test=self.webpackChunkfirebase_test||[]).push([[250],{5250:function(e,a,t){t.r(a);var n=t(4942),r=t(1413),l=t(885),c=(t(3755),t(1787),t(477),t(2791)),s=t(794),u=t(8530),i=t(834),d=t(1134),o=t(4778),m=t(184);a.default=function(e){var a,t=e.userData,h=e.openForm,p=e.mode,x=e.usersNoteId,Z=(0,d.cI)(),j=Z.register,y=Z.reset,f=Z.handleSubmit,v=Z.formState,g=Z.formState,b=g.errors,D=(g.isSubmitSuccessful,(0,s._B)()),M=D.setValue,N=D.value,S=(0,c.useState)(""),_=(0,l.Z)(S,2),P=_[0],C=_[1],F=new Date,U=F.getMonth()+1,V=F.getDate(),O={day:1===String(V).length?"0".concat(V):V,month:1===String(U).length?"0".concat(U):U,year:F.getFullYear()};return"edit"===p&&o.db.ref("loans").child(t.id).child(x).once("value",(function(e){a=e.val()})),(0,c.useEffect)((function(){v.isSubmitSuccessful&&(y({date:"",sum:"",name:"",dateMonth:"",sumMonth:""}),M(""),C(""))}),[v,y,M]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(u.Z,{onSubmit:f((function(e){var l=e.date.split("-"),c=(0,r.Z)((0,r.Z)({},e),{},{id:"".concat(Date.now()),date:"".concat(l[2],"-").concat(l[1],"-").concat(l[0])});c="create"===p?N?(0,r.Z)((0,r.Z)({},c),{},{value:N}):(0,r.Z)((0,r.Z)({},c),{},{value:"\u0414\u0435\u0431\u0435\u0442"}):(0,r.Z)((0,r.Z)({},c),{},{value:N}),c="create"===p&&""===P?(0,r.Z)((0,r.Z)({},c),{},{curr:"UAH"}):(0,r.Z)((0,r.Z)({},c),{},{curr:P});var s=new Date,u=s.getMonth()+1,i=s.getDate(),d={day:1===String(i).length?"0".concat(i):i,month:1===String(u).length?"0".concat(u):u,year:s.getFullYear()};"create"===p?o.db.ref("loans").child(t.id).update((0,n.Z)({},c.id,{DateOfCreation:"".concat(d.day,"-").concat(d.month,"-").concat(d.year),DateOfDBInput:s,Date:c.date,DateMonth:c.dateMonth,Value:c.sum,ValueMonth:c.sumMonth,Currency:c.curr,Type:c.value,Name:c.name?c.name:"",PaidOut:!1})):o.db.ref("loans").child(t.id).update((0,n.Z)({},x,{DateOfCreation:a.DateOfCreation,DateOfDBInput:a.DateOfDBInput,Date:c.date&&"undefined-undefined-"!==c.date?c.date:a.Date,DateMonth:c.dateMonth?c.dateMonth:a.dateMonth,Value:c.sum?c.sum:a.Value,ValueMonth:c.sumMonth?c.sumMonth:a.ValueMonth,Currency:c.curr?c.curr:a.Currency,Type:c.value?c.value:a.Type,Name:c.name?c.name:a.Name,PaidOut:a.PaidOut}))})),className:"finance__form form_hiden",children:[(0,m.jsxs)("h2",{children:["create"===p?"\u0414\u043e\u0434\u0430\u0442\u0438":"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438"," \u0434\u0435\u043f\u043e\u0437\u0438\u0442"]}),(0,m.jsxs)(u.Z.Field,{children:[(0,m.jsx)("label",{children:"\u0406\u043c'\u044f / \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044f:"}),"create"===p?(0,m.jsx)("input",(0,r.Z)((0,r.Z)({type:"text",placeholder:"\u0406\u043c'\u044f..."},j("name",{required:"error value"})),{},{maxLength:"30"})):(0,m.jsx)("input",(0,r.Z)((0,r.Z)({type:"text",placeholder:a.Name},j("name",{required:!1})),{},{maxLength:"30"})),b.name&&(0,m.jsx)("p",{className:"error_message",children:"*\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435"})]}),(0,m.jsxs)(u.Z.Field,{children:[(0,m.jsx)("label",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f:"}),"create"===p?(0,m.jsx)(s.ZP,{value:N,setValue:M,placeholder:"\u0414\u0435\u0431\u0435\u0442",items:[{id:"In",value:"\u0414\u0435\u0431\u0435\u0442"},{id:"Out",value:"\u041a\u0440\u0435\u0434\u0438\u0442"}]}):(0,m.jsx)(s.ZP,{value:N,setValue:M,placeholder:a.Type,items:[{id:"In",value:"\u0414\u0435\u0431\u0435\u0442"},{id:"Out",value:"\u041a\u0440\u0435\u0434\u0438\u0442"}]})]}),(0,m.jsxs)(u.Z.Field,{style:{display:"flex",alignItems:"flex-end",gap:"10px",marginBottom:"0"},children:[(0,m.jsxs)(u.Z.Field,{children:[(0,m.jsx)("label",{children:"\u0421\u0443\u043c\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0443:"}),"create"===p?(0,m.jsx)("input",(0,r.Z)((0,r.Z)({type:"number",placeholder:"\u0421\u0443\u043c\u0430..."},j("sum",{required:"error value"})),{},{min:1,max:1e9})):(0,m.jsx)("input",(0,r.Z)((0,r.Z)({type:"number",placeholder:a.Value},j("sum",{required:!1})),{},{min:1,max:1e9})),b.sum&&(0,m.jsx)("p",{className:"error_message",children:"*\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435"})]}),(0,m.jsxs)(u.Z.Field,{children:["create"===p?(0,m.jsx)(s.ZP,{style:{marginTop:"8px"},value:P,setValue:C,placeholder:"UAH",items:[{id:"UAH",value:"UAH"},{id:"USD",value:"USD"},{id:"EUR",value:"EUR"},{id:"GBP",value:"GBP"},{id:"JPY",value:"JPY"},{id:"CNY",value:"CNY"}]}):(0,m.jsx)(s.ZP,{style:{marginTop:"8px"},value:P,setValue:C,placeholder:a.Currency,items:[{id:"UAH",value:"UAH"},{id:"USD",value:"USD"},{id:"EUR",value:"EUR"},{id:"GBP",value:"GBP"},{id:"JPY",value:"JPY"},{id:"CNY",value:"CNY"}]}),b.sum&&(0,m.jsx)("p",{className:"error_message",children:"\xa0"})]})]}),(0,m.jsxs)(u.Z.Field,{children:[(0,m.jsx)("label",{children:"\u0421\u0443\u043c\u0430  \u0449\u043e\u043c\u0456\u0441\u044f\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0443:"}),"create"===p?(0,m.jsx)("input",(0,r.Z)((0,r.Z)({type:"number",placeholder:"\u0421\u0443\u043c\u0430..."},j("sumMonth",{required:"error value"})),{},{min:1,max:1e9})):(0,m.jsx)("input",(0,r.Z)((0,r.Z)({type:"number",placeholder:a.ValueMonth},j("sumMonth",{required:!1})),{},{min:1,max:1e9})),b.sum&&(0,m.jsx)("p",{className:"error_message",children:"*\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435"})]}),(0,m.jsxs)(u.Z.Field,{children:[(0,m.jsx)("label",{children:"\u0414\u0430\u0442\u0430 \u0449\u043e\u043c\u0456\u0441\u044f\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0443:"}),"create"===p?(0,m.jsx)("input",(0,r.Z)({type:"number",placeholder:"\u0414\u0430\u0442\u0430..."},j("dateMonth",{required:"error dateMonth",max:31,min:1}))):(0,m.jsx)("input",(0,r.Z)((0,r.Z)({},j("date",{required:!1,max:31,min:1})),{},{placeholder:a.DateMonth,type:"number"})),b.date&&(0,m.jsx)("p",{className:"error_message",children:"*\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435"})]}),(0,m.jsxs)(u.Z.Field,{children:[(0,m.jsx)("label",{children:"\u0414\u0430\u0442\u0430 \u043a\u0456\u043d\u0446\u0435\u0432\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0443:"}),"create"===p?(0,m.jsx)("input",(0,r.Z)({type:"date"},j("date",{required:"error date",max:"".concat(O.year+5,"-").concat(O.month,"-").concat(O.day),min:"".concat(O.year-5,"-").concat(O.month,"-").concat(O.day)}))):(0,m.jsx)("input",(0,r.Z)((0,r.Z)({},j("date",{required:!1,max:"".concat(O.year+5,"-").concat(O.month,"-").concat(O.day),min:"".concat(O.year-5,"-").concat(O.month,"-").concat(O.day)})),{},{placeholder:a.Date,type:"text",onFocus:function(e){return e.target.type="date"},onBlur:function(e){return e.target.type="text"}})),b.date&&(0,m.jsx)("p",{className:"error_message",children:"*\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u043f\u043e\u043b\u0435"})]}),(0,m.jsxs)(u.Z.Field,{className:"btns_field",children:[(0,m.jsx)(i.Z,{className:"non_active_btn",onClick:function(){M(""),h("back")},type:"reset",children:"\u041d\u0430\u0437\u0430\u0434"}),(0,m.jsx)(i.Z,{className:"sign-in_btn",type:"submit",children:"create"===p?"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438"})]})]})})}},3755:function(){},477:function(){},1787:function(){}}]);
//# sourceMappingURL=250.0f139fa6.chunk.js.map