"use strict";(self.webpackChunkfirebase_test=self.webpackChunkfirebase_test||[]).push([[258],{7258:function(e,t,s){s.r(t);var r=s(2982),a=s(1413),n=(s(4129),s(794)),l=s(2791),i=s(4778),c=s(184);t.default=function(e){var t=e.finalSort,s=e.setSortRegime,u=e.userData,o=e.category,d=e.setCategory,h=e.nameOfParty,f=e.setNameOfParty,p=e.currency,j=e.setCurrency,m=e.setLoans,_=e.paidOutStatus,v=e.setPaidOutStatus,x=[];function b(e,t){h&&(x=x.filter((function(e){return e.Name.trim().toLowerCase().includes(h)}))),o&&(x=x.filter((function(e){return e.Type===o}))),m(function(e,t){return(0,r.Z)(x).sort((function(r,a){if("sum"===e){var n=0,l=0,i=r.Currency,c=a.Currency;switch(i){case"USD":case"EUR":n=40*parseFloat(r.Value);break;case"GBP":n=44*parseFloat(r.Value);break;case"JPY":n=.3*parseFloat(r.Value);break;case"CNY":n=5.4*parseFloat(r.Value);break;default:n=parseFloat(r.Value)}switch(c){case"USD":case"EUR":l=40*parseFloat(a.Value);break;case"GBP":l=44*parseFloat(a.Value);break;case"JPY":l=.3*parseFloat(a.Value);break;case"CNY":l=5.4*parseFloat(a.Value);break;default:l=parseFloat(a.Value)}return"top"===t?(s("sum/top"),n>l?1:n<l?-1:0):(s("sum/bottom"),n<l?1:n>l?-1:0)}if("date"===e){var u=+r.Date.split("-").reverse().join(""),o=+a.Date.split("-").reverse().join("");return"top"===t?(s("date/top"),u>o?1:u<o?-1:0):(s("date/bottom"),u<o?1:u>o?-1:0)}}))}(e,t))}return i.db.ref("loans").child(u.id).on("value",(function(e){var s=e.val();for(var r in s)"1"!==r&&x.push((0,a.Z)({id:r},s[r]));x=t(x)})),(0,l.useEffect)((function(){o&&(x=x.filter((function(e){return e.Type===o}))),h&&(x=x.filter((function(e){return e.Name.trim().toLowerCase().includes(h.trim().toLowerCase())}))),p&&(x=x.filter((function(e){return e.Currency===p}))),_&&(x="\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e"===_?x.filter((function(e){return!0===e.PaidOut})):x.filter((function(e){return!1===e.PaidOut}))),m(x)}),[o,h,p,_]),(0,c.jsxs)("div",{className:"sort_panel_loans",children:[(0,c.jsx)("h2",{children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,c.jsxs)("div",{className:"sort__date sort_con_flex",children:[(0,c.jsx)("h4",{className:"sort__date_title",children:"\u0414\u0430\u0442\u0430:"}),(0,c.jsxs)("div",{className:"sort_btns",children:[(0,c.jsxs)("button",{onClick:function(){return b("date","top")},children:["\u0417\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\xa0",(0,c.jsx)("span",{children:"\ud83e\udc11"})]}),(0,c.jsxs)("button",{onClick:function(){return b("date","bottom")},children:["\u0421\u043f\u0430\u0434\u0430\u043d\u043d\u044f\xa0",(0,c.jsx)("span",{children:"\ud83e\udc13"})]})]})]}),(0,c.jsxs)("div",{className:"sort__sum sort_con_flex",children:[(0,c.jsx)("h4",{className:"sort__sum_title",children:"\u0421\u0443\u043c\u0430:"}),(0,c.jsxs)("div",{className:"sort_btns",children:[(0,c.jsxs)("button",{onClick:function(){return b("sum","top")},children:["\u0417\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\xa0",(0,c.jsx)("span",{children:"\ud83e\udc11"})]}),(0,c.jsxs)("button",{onClick:function(){return b("sum","bottom")},children:["\u0421\u043f\u0430\u0434\u0430\u043d\u043d\u044f\xa0",(0,c.jsx)("span",{children:"\ud83e\udc13"})]})]})]}),(0,c.jsxs)("div",{className:"sort__currency",children:[(0,c.jsx)("h4",{children:"\u0412\u0430\u043b\u044e\u0442\u0430: "}),(0,c.jsx)(n.ZP,{value:p,setValue:j,placeholder:"UAH",items:[{id:"UAH",value:"UAH"},{id:"USD",value:"USD"},{id:"EUR",value:"EUR"},{id:"GBP",value:"GBP"},{id:"JPY",value:"JPY"},{id:"CNY",value:"CNY"}]})]}),(0,c.jsxs)("div",{className:"sort__category",children:[(0,c.jsx)("h4",{children:"\u0412\u0438\u0434 \u0434\u0435\u043f\u043e\u0437\u0438\u0442\u0443: "}),(0,c.jsx)(n.ZP,{value:o,setValue:d,placeholder:"\u0414\u0435\u0431\u0435\u0442",items:[{id:"In",value:"\u0414\u0435\u0431\u0435\u0442"},{id:"Out",value:"\u041a\u0440\u0435\u0434\u0438\u0442"}]})]}),(0,c.jsxs)("div",{className:"sort__category",children:[(0,c.jsx)("h4",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: "}),(0,c.jsx)(n.ZP,{value:_,setValue:v,placeholder:"\u0414\u0435\u0431\u0435\u0442",items:[{id:"True",value:"\u0421\u043f\u043b\u0430\u0447\u0435\u043d\u043e"},{id:"False",value:"\u041d\u0435 \u0441\u043f\u043b\u0430\u0447\u0435\u043d\u043e"}]})]}),(0,c.jsxs)("div",{className:"sort__project",children:[(0,c.jsx)("h4",{children:"\u0406\u043c'\u044f \\ \u043a\u043e\u043c\u043f\u0430\u043d\u0456\u044f: "}),(0,c.jsxs)("div",{className:"sort__project_search",children:[(0,c.jsx)("input",{type:"text",className:"project_input",placeholder:"\u041f\u0440\u043e\u0454\u043a\u0442..."}),(0,c.jsx)("button",{onClick:function(){return f(document.querySelector(".project_input").value)},children:"\u041f\u043e\u0448\u0443\u043a"})]})]}),(0,c.jsx)("div",{className:"reset_btn__container",children:(0,c.jsx)("button",{onClick:function(){s(""),f(""),d(""),j(""),v(""),document.querySelector(".project_input").value=""},className:"reset_btn",children:"\u0421\u043a\u0438\u043d\u0443\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"})})]})}}}]);
//# sourceMappingURL=258.36614ea6.chunk.js.map