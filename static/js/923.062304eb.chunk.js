"use strict";(self.webpackChunkfirebase_test=self.webpackChunkfirebase_test||[]).push([[923],{9923:function(e,t,s){s.r(t);var r=s(1413),a=(s(5319),s(794)),n=s(2791),l=s(4778),i=s(184);t.default=function(e){var t=e.regime,s=e.setIncomes,c=e.setCosts,o=e.finalSort,u=e.setSortRegime,d=e.userData,p=e.category,h=e.setCategory,m=e.projectName,f=e.setProjectName,j=e.currency,v=e.setCurrency,_=[];function x(e,r){m&&(_=_.filter((function(e){return e.Project.trim().toLowerCase().includes(m)}))),p&&(_=_.filter((function(e){return e.Type===p}))),function(e,t){_.sort((function(s,r){if("sum"===e){var a=0,n=0;switch(s.Currency){case"USD":case"EUR":a=40*parseFloat(s.Value);break;case"GBP":a=44*parseFloat(s.Value);break;case"JPY":a=.3*parseFloat(s.Value);break;case"CNY":a=5.4*parseFloat(s.Value);break;default:a=parseFloat(s.Value)}switch(r.Currency){case"USD":case"EUR":n=40*parseFloat(r.Value);break;case"GBP":n=44*parseFloat(r.Value);break;case"JPY":n=.3*parseFloat(r.Value);break;case"CNY":n=5.4*parseFloat(r.Value);break;default:n=parseFloat(r.Value)}return"top"===t?(u("sum/top"),a>n?1:a<n?-1:0):(u("sum/bottom"),a<n?1:a>n?-1:0)}if("date"===e){var l=+s.Date.split("-").reverse().join(""),i=+r.Date.split("-").reverse().join("");return"top"===t?(u("date/top"),l>i?1:l<i?-1:0):(u("date/bottom"),l<i?1:l>i?-1:0)}}))}(e,r),"income"===t?s(_):c(_)}return l.db.ref(t).child(d.id).on("value",(function(e){var s=e.val();if("income"===t)for(var a in s)"1"!==a&&_.push((0,r.Z)({id:a},s[a]));else for(var n in s)"1"!==n&&_.push((0,r.Z)({id:n},s[n]));_=o(_)})),(0,n.useEffect)((function(){p&&(_=_.filter((function(e){return e.Type===p}))),m&&(_=_.filter((function(e){return e.Project.trim().toLowerCase().includes(m.trim().toLowerCase())}))),j&&(_=_.filter((function(e){return e.Currency===j}))),"income"===t?s(_):c(_)}),[p,m,j]),(0,i.jsxs)("div",{className:"sort_panel_finances",children:[(0,i.jsx)("h2",{children:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,i.jsxs)("div",{className:"sort__date sort_con_flex",children:[(0,i.jsx)("h4",{className:"sort__date_title",children:"\u0414\u0430\u0442\u0430:"}),(0,i.jsxs)("div",{className:"sort_btns",children:[(0,i.jsxs)("button",{onClick:function(){return x("date","top")},children:["\u0417\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\xa0",(0,i.jsx)("span",{children:"\ud83e\udc11"})]}),(0,i.jsxs)("button",{onClick:function(){return x("date","bottom")},children:["\u0421\u043f\u0430\u0434\u0430\u043d\u043d\u044f\xa0",(0,i.jsx)("span",{children:"\ud83e\udc13"})]})]})]}),(0,i.jsxs)("div",{className:"sort__sum sort_con_flex",children:[(0,i.jsx)("h4",{className:"sort__sum_title",children:"\u0421\u0443\u043c\u0430:"}),(0,i.jsxs)("div",{className:"sort_btns",children:[(0,i.jsxs)("button",{onClick:function(){return x("sum","top")},children:["\u0417\u0440\u043e\u0441\u0442\u0430\u043d\u043d\u044f\xa0",(0,i.jsx)("span",{children:"\ud83e\udc11"})]}),(0,i.jsxs)("button",{onClick:function(){return x("sum","bottom")},children:["\u0421\u043f\u0430\u0434\u0430\u043d\u043d\u044f\xa0",(0,i.jsx)("span",{children:"\ud83e\udc13"})]})]})]}),(0,i.jsxs)("div",{className:"sort__currency",children:[(0,i.jsx)("h4",{children:"\u0412\u0430\u043b\u044e\u0442\u0430: "}),(0,i.jsx)(a.ZP,{value:j,setValue:v,placeholder:"UAH",items:[{id:"UAH",value:"UAH"},{id:"USD",value:"USD"},{id:"EUR",value:"EUR"},{id:"GBP",value:"GBP"},{id:"JPY",value:"JPY"},{id:"CNY",value:"CNY"}]})]}),(0,i.jsxs)("div",{className:"sort__category",children:[(0,i.jsx)("h4",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f: "}),"income"===t?(0,i.jsx)(a.ZP,{value:p,setValue:h,placeholder:"\u0417\u0430 \u0442\u043e\u0432\u0430\u0440 / \u043f\u043e\u0441\u043b\u0443\u0433\u0443",items:[{id:"Payment",value:"\u0417\u0430 \u0442\u043e\u0432\u0430\u0440 / \u043f\u043e\u0441\u043b\u0443\u0433\u0443"},{id:"Prepayment",value:"\u041f\u0435\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430"},{id:"Another",value:"\u0406\u043d\u0448\u0456 \u043d\u0430\u0434\u0445\u043e\u0434\u0436\u0435\u043d\u043d\u044f"}]}):(0,i.jsx)(a.ZP,{value:p,setValue:h,placeholder:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d / \u0456\u043d\u0442\u0435\u0440\u043d\u0435\u0442",items:[{id:"Connection",value:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d / \u0456\u043d\u0442\u0435\u0440\u043d\u0435\u0442"},{id:"Suppliers",value:"\u041e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e\u0441\u0442\u0430\u0447\u0430\u043b\u044c\u043d\u0438\u043a\u0430\u043c"},{id:"Rent",value:"\u041e\u0440\u0435\u043d\u0434\u0430"},{id:"Taxes",value:"\u041f\u043e\u0434\u0430\u0442\u043a\u0438"},{id:"Salary",value:"\u0417\u0430\u0440\u043e\u0431\u0456\u0442\u043d\u0430 \u043f\u043b\u0430\u0442\u0430"},{id:"Another payments",value:"\u0406\u043d\u0448\u0456 \u0432\u0438\u043f\u043b\u0430\u0442\u0438"}]})]}),(0,i.jsxs)("div",{className:"sort__project",children:[(0,i.jsx)("h4",{children:"\u041f\u0440\u043e\u0454\u043a\u0442: "}),(0,i.jsxs)("div",{className:"sort__project_search",children:[(0,i.jsx)("input",{type:"text",className:"project_input",placeholder:"\u041f\u0440\u043e\u0454\u043a\u0442..."}),(0,i.jsx)("button",{onClick:function(){return f(document.querySelector(".project_input").value)},children:"\u041f\u043e\u0448\u0443\u043a"})]})]}),(0,i.jsx)("div",{className:"reset_btn__container",children:(0,i.jsx)("button",{onClick:function(){u(""),f(""),h(""),v(""),document.querySelector(".project_input").value=""},className:"reset_btn",children:"\u0421\u043a\u0438\u043d\u0443\u0442\u0438 \u0444\u0456\u043b\u044c\u0442\u0440\u0438"})})]})}}}]);
//# sourceMappingURL=923.062304eb.chunk.js.map