"use strict";(self.webpackChunkfirebase_test=self.webpackChunkfirebase_test||[]).push([[171],{1171:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var a=r(1413),s=r(885),n=(r(3755),r(9573)),i=r(794),l=r(2791),c=r(4778),o=r(184),g=(0,l.lazy)((function(){return Promise.all([r.e(549),r.e(42)]).then(r.bind(r,1042))})),m=(0,l.lazy)((function(){return Promise.all([r.e(549),r.e(884)]).then(r.bind(r,6884))})),u=(0,l.lazy)((function(){return Promise.all([r.e(549),r.e(706)]).then(r.bind(r,1706))})),S=(0,l.lazy)((function(){return Promise.all([r.e(549),r.e(723)]).then(r.bind(r,1723))})),h=(0,l.lazy)((function(){return Promise.all([r.e(549),r.e(608)]).then(r.bind(r,2608))}));var A=function(e){var t=e.userData,r=["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],A=(0,l.useState)(!0),d=(0,s.Z)(A,2),f=(d[0],d[1]),p=(0,l.useState)("line"),N=(0,s.Z)(p,2),v=N[0],I=N[1],O=(0,l.useState)(!1),_=(0,s.Z)(O,2),x=_[0],J=_[1],j=String((new Date).getFullYear()),y=String((new Date).getMonth()+1),b=(0,l.useState)(j),P=(0,s.Z)(b,2),L=P[0],C=P[1],k=(0,l.useState)(r[y-1]),w=(0,s.Z)(k,2),D=w[0],E=w[1],V=Y(y.length<2?"0"+y:y,"income","line");V.length>0&&0!==V[0]&&localStorage.setItem("incomesArrLineCash",JSON.stringify(V));var T=Y(y.length<2?"0"+y:y,"costs","line");T.length>0&&0!==T[0]&&localStorage.setItem("costsArrLineCash",JSON.stringify(T));var Z=Y(y.length<2?"0"+y:y,"income","pie");Z.length>0&&0!==Z[0]&&localStorage.setItem("incomesArrPieCash",JSON.stringify(Z));var F=Y(y.length<2?"0"+y:y,"costs","pie");function Y(e,r,s){var n=[],i=function(e,r){var s=[];try{c.db.ref(r).child(t.id).on("value",(function(t){var r=t.val();for(var n in r)"1"!==n&&r[n].Date.split("-")[2]===L&&r[n].Date.split("-")[1]===e&&s.push((0,a.Z)({id:n},r[n]))}))}catch(n){console.log(n)}return s}(e,r);return"pie"===s||"polar"===s?i:(i.forEach((function(e,t){var a;switch(e.Currency){case"USD":case"EUR":a=40*parseFloat(e.Value);break;case"GBP":a=44*parseFloat(e.Value);break;case"JPY":a=.3*parseFloat(e.Value);break;case"CNY":a=5.4*parseFloat(e.Value);break;default:a=parseFloat(e.Value)}n.push({id:t,day:e.Date.split("-")[0],userGain:"income"===r?a:0,userLost:"costs"===r?a:0})})),n.length>0?n:[0])}return F.length>0&&0!==F[0]&&localStorage.setItem("costsArrPieCash",JSON.stringify(F)),D===r[y-1]&&(JSON.parse(localStorage.getItem("incomesArrLine"))!==V&&V.length>=1&&0!==V[0]&&localStorage.setItem("incomesArrLine",JSON.stringify(V)),JSON.parse(localStorage.getItem("costsArrLine"))!==T&&T.length>=1&&0!==T[0]&&localStorage.setItem("costsArrLine",JSON.stringify(T)),JSON.parse(localStorage.getItem("incomesArrPie"))!==Z&&Z.length>=1&&0!==Z[0]&&localStorage.setItem("incomesArrPie",JSON.stringify(Z)),JSON.parse(localStorage.getItem("costsArrPie"))!==F&&F.length>=1&&0!==F[0]&&localStorage.setItem("costsArrPie",JSON.stringify(F)),0!==V[0]&&V!==[]||(localStorage.setItem("incomesArrLine",localStorage.getItem("incomesArrLineCash")),localStorage.setItem("costsArrLine",localStorage.getItem("costsArrLineCash")),localStorage.setItem("incomesArrPie",localStorage.getItem("incomesArrPieCash")),localStorage.setItem("costsArrPie",localStorage.getItem("costsArrPieCash")))),(0,l.useEffect)((function(){var e=String(r.indexOf(D)+1).length<2?"0"+String(r.indexOf(D)+1):String(r.indexOf(D)+1),t=Y(e,"income",v),a=Y(e,"costs",v);"line"!==v&&"bar"!==v||(JSON.parse(localStorage.getItem("incomesArrLine"))!==t&&t.length>=1&&0!==t[0]&&localStorage.setItem("incomesArrLine",JSON.stringify(t)),JSON.parse(localStorage.getItem("costsArrLine"))!==a&&a.length>=1&&0!==a[0]&&localStorage.setItem("costsArrLine",JSON.stringify(a)),JSON.parse(localStorage.getItem("incomesArrLine"))!==t&&t.length>=1&&0!==t[0]&&1===a.length&&localStorage.setItem("costsArrLine",JSON.stringify(a)),JSON.parse(localStorage.getItem("costsArrLine"))!==a&&a.length>=1&&0!==a[0]&&1===t.length&&localStorage.setItem("incomesArrLine",JSON.stringify(t))),"pie"!==v&&"polar"!==v||(JSON.parse(localStorage.getItem("incomesArrPie"))!==t&&t.length>=1&&0!==t[0]&&localStorage.setItem("incomesArrPie",JSON.stringify(t)),JSON.parse(localStorage.getItem("costsArrPie"))!==a&&a.length>=1&&0!==a[0]&&localStorage.setItem("costsArrPie",JSON.stringify(a)),JSON.parse(localStorage.getItem("incomesArrPie"))!==t&&t.length>=1&&0!==t[0]&&0===a.length&&localStorage.setItem("costsArrPie",JSON.stringify(a)),JSON.parse(localStorage.getItem("costsArrPie"))!==a&&a.length>=1&&0!==a[0]&&0===t.length&&localStorage.setItem("incomesArrPie",JSON.stringify(t))),L===j&&String(r.indexOf(D)+1)===y||!(0===t[0]&&0===a[0]||0===t.length&&0===a.length)?localStorage.removeItem("err"):localStorage.setItem("err","\u041d\u0435\u043c\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0434\u0430\u043d\u0438\u0439 \u043f\u0435\u0440\u0456\u043e\u0434"),f((function(e){return!e}))}),[L,D,v]),(0,l.useEffect)((function(){document.querySelector(".menu_small_screen").classList.contains("hidden")||(document.querySelector(".menu_small_screen").classList.add("hidden"),document.querySelector(".burger_btn_img").src=n)}),[]),(0,o.jsxs)("div",{className:"page",children:[(0,o.jsx)("h1",{className:"title",children:"\u0410\u043d\u0430\u043b\u0456\u0442\u0438\u043a\u0430"}),(0,o.jsxs)("div",{className:"chart_category__container",children:[(0,o.jsx)("h2",{children:"\u0412\u0438\u0434 \u0434\u0456\u0430\u0433\u0440\u0430\u043c\u0438:"}),(0,o.jsxs)("div",{className:"categories",children:[(0,o.jsxs)("div",{className:"categories__btns",children:[(0,o.jsx)("button",{className:"line",onClick:function(){return I("line")},children:"\u041b\u0456\u043d\u0456\u0439\u043d\u0430"}),(0,o.jsx)("button",{className:"bar",onClick:function(){return I("bar")},children:"\u0421\u0442\u043e\u0432\u043f\u0447\u0438\u043a\u043e\u0432\u0430"}),(0,o.jsx)("button",{className:"pie",onClick:function(){return I("pie")},children:"\u0421\u0435\u043a\u0442\u043e\u0440\u043d\u0430"}),(0,o.jsx)("button",{className:"polar",onClick:function(){return I("polar")},children:"\u041c\u0443\u043b\u044c\u0442\u0438\u0440\u0456\u0432\u043d\u0435\u0432\u0430"})]}),(0,o.jsxs)("div",{className:"chart_date",children:[(0,o.jsx)(i.ZP,{value:L,setValue:C,placeholder:j,items:[{id:0,value:String(+j-5)},{id:1,value:String(+j-4)},{id:2,value:String(+j-3)},{id:3,value:String(+j-2)},{id:4,value:String(+j-1)},{id:5,value:j},{id:6,value:String(+j+1)},{id:7,value:String(+j+2)},{id:8,value:String(+j+3)},{id:9,value:String(+j+4)},{id:10,value:String(+j+5)}]}),(0,o.jsx)(i.ZP,{value:D,setValue:E,placeholder:r[y-1],items:[{id:0,value:"\u0421\u0456\u0447\u0435\u043d\u044c"},{id:1,value:"\u041b\u044e\u0442\u0438\u0439"},{id:2,value:"\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c"},{id:3,value:"\u041a\u0432\u0456\u0442\u0435\u043d\u044c"},{id:4,value:"\u0422\u0440\u0430\u0432\u0435\u043d\u044c"},{id:5,value:"\u0427\u0435\u0440\u0432\u0435\u043d\u044c"},{id:6,value:"\u041b\u0438\u043f\u0435\u043d\u044c"},{id:7,value:"\u0421\u0435\u0440\u043f\u0435\u043d\u044c"},{id:8,value:"\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c"},{id:9,value:"\u0416\u043e\u0432\u0442\u0435\u043d\u044c"},{id:10,value:"\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434"},{id:11,value:"\u0413\u0440\u0443\u0434\u0435\u043d\u044c"}]})]})]}),localStorage.getItem("err")?(0,o.jsx)("p",{className:"data_err__message",children:"*\u041d\u0435\u043c\u0430\u0454 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u0457 \u043f\u0440\u043e \u0434\u0430\u043d\u0438\u0439 \u043f\u0435\u0440\u0456\u043e\u0434"}):null]}),"line"===v?(0,o.jsx)("button",{className:"btn",onClick:function(){return J((function(e){return!e}))},children:"\u041f\u043e\u0440\u0456\u0432\u043d\u044f\u0442\u0438"}):null,"line"!==v||x?null:(0,o.jsxs)("div",{className:"line_charts charts__container",children:[(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(g,{title:"\u041f\u0440\u0438\u0431\u0443\u0442\u043a\u0438",finances:JSON.parse(localStorage.getItem("incomesArrLine"))})}),(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(g,{title:"\u0412\u0438\u0442\u0440\u0430\u0442\u0438",finances:JSON.parse(localStorage.getItem("costsArrLine"))})})]}),"line"===v&&x?(0,o.jsx)(S,{incomes:JSON.parse(localStorage.getItem("incomesArrLine")),costs:JSON.parse(localStorage.getItem("costsArrLine"))}):null,"bar"===v?(0,o.jsxs)("div",{className:"bar_charts charts__container",children:[(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(u,{title:"\u041f\u0440\u0438\u0431\u0443\u0442\u043a\u0438",financeArr:JSON.parse(localStorage.getItem("incomesArrLine")),financeType:"incomes",barType:"month"})}),(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(u,{title:"\u0412\u0438\u0442\u0440\u0430\u0442\u0438",financeArr:JSON.parse(localStorage.getItem("costsArrLine")),financeType:"costs",barType:"month"})})]}):null,"pie"===v?(0,o.jsxs)("div",{className:"pie_charts charts__container",children:[(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(m,{title:"\u041f\u0440\u0438\u0431\u0443\u0442\u043a\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f\u043c\u0438",financeArr:JSON.parse(localStorage.getItem("incomesArrPie")),financeType:"incomes"})}),(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(m,{title:"\u0412\u0438\u0442\u0440\u0430\u0442\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f\u043c\u0438",financeArr:JSON.parse(localStorage.getItem("costsArrPie")),financeType:"costs"})})]}):null,"polar"===v?(0,o.jsxs)("div",{className:"pie_charts charts__container",children:[(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(h,{title:"\u041f\u0440\u0438\u0431\u0443\u0442\u043a\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f\u043c\u0438",financeArr:JSON.parse(localStorage.getItem("incomesArrPie")),financeType:"incomes"})}),(0,o.jsx)("div",{className:"chart__container",children:(0,o.jsx)(h,{title:"\u0412\u0438\u0442\u0440\u0430\u0442\u0438 \u0437\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f\u043c\u0438",financeArr:JSON.parse(localStorage.getItem("costsArrPie")),financeType:"costs"})})]}):null]})}},3755:function(){},9573:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAO0lEQVR4nO3RAQ0AMAgEsfdvmrkYBFoHl0sAgEFquAholvUHALithouAZll/AIDbargIaJb1BwCA/PMAXDx46rGiKioAAAAASUVORK5CYII="}}]);
//# sourceMappingURL=171.32ff7c0c.chunk.js.map