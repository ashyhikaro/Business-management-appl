/*! For license information please see 794.dc607915.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfirebase_test=self.webpackChunkfirebase_test||[]).push([[794],{794:function(e,t,n){n.d(t,{ZP:function(){return h},_B:function(){return d}});var r=n(2791),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}var i=function(e){return"The ".concat(e," component must be a child of Combobox. Please wrap the component inside Combobox to ensure that the required context is available.")};function l(e,t){0}var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.forEach((function(e){return e&&e(t)}))}},c=(0,r.createContext)({contextAvailable:!0,listboxId:"",selectedItemId:"",isExpanded:false,currentInputValue:""}),s=function(){return(0,r.useContext)(c)},d=function(e){var t=x(null===e||void 0===e?void 0:e.isExpanded),n=t[0],a=t[1],o=(0,r.useState)((null===e||void 0===e?void 0:e.initialValue)||"");return{isExpanded:n,value:o[0],setIsExpanded:a,setValue:o[1]}};var f=(0,r.forwardRef)((function(e,t){var n=e.value,u=o(e,["value"]),c=s(),d=(c.contextAvailable,c.listboxId),p=c.isExpanded;return l(0,i(f.name)),r.createElement("input",a({autoComplete:"off"},u,{ref:t,value:n,type:"text",role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":p,"aria-controls":d}))}));f.displayName="ComboboxInput";var p=function(e){var t=e.children,n=e.currentInput,i=void 0===n?"":n,l=e.as,u=void 0===l?"mark":l,c=o(e,["children","currentInput","as"]),s=(0,r.useMemo)((function(){if("string"!==typeof t)return t;var e=t.toLowerCase().indexOf(i.toLowerCase()),n=i.length;return-1!==e&&n?r.createElement(r.Fragment,null,t.substring(0,e),"mark"===u?r.createElement("mark",a({},c),t.substring(e,e+n)):r.createElement("span",a({},c),t.substring(e,e+n)),t.substring(e+n,t.length)):t}),[i,t]);return r.createElement(r.Fragment,null,s)},v=(0,r.forwardRef)((function(e,t){var n=e.children,i=e.id,l=e.className,u=o(e,["children","id","className"]),c=s().selectedItemId,d=function(e,t){return(0,r.useMemo)((function(){return e&&"string"!==typeof e?e(t):e}),[t,e])}(l,{isSelected:!!i&&i===c});return r.createElement("li",a({},u,{ref:t,id:i,className:d,role:"option"}),n)}));v.displayName="ListboxOption";var m=(0,r.forwardRef)((function(e,t){var n=e.children,u=o(e,["children"]),c=s(),d=(c.contextAvailable,c.listboxId),f=c.isExpanded;l(0,i(m.name));var p=(0,r.useRef)(f),v=(0,r.useState)(!1),b=v[0],x=v[1];return(0,r.useEffect)((function(){f?f&&f!==p.current&&x(!0):x(!1),p.current=f}),[f]),r.createElement("ul",a({},u,{ref:t,id:d,role:"listbox","aria-live":b?u["aria-live"]||"polite":"off"}),n)}));m.displayName="Listbox";var b=function(e){var t=e.currentInputValue,n=e.listboxId,a=e.selectedItemId,o=e.isExpanded,i=void 0===o||o,l=e.children,u=(0,r.useId)();return r.createElement(c.Provider,{value:{currentInputValue:t,contextAvailable:!0,listboxId:n||u,selectedItemId:a,isExpanded:i}},l)};function x(e){var t=(0,r.useState)(e),n=t[0],a=t[1],o=(0,r.useRef)(e);return[n,function(e){a(e),o.current=e},o]}b.ComboboxInput=f,b.Listbox=m,b.ListboxOption=v,b.Highlight=p;var E=function(e,t){return void 0===t&&(t=""),e.filter((function(e){return"string"!==typeof e.value||e.value.toLowerCase().includes(t.toLocaleLowerCase())}))};var h=(0,r.forwardRef)((function(e,t){var n=e.label,i=e.showLabel,l=void 0===i||i,c=e.items,s=e.selectedItem,d=e.value,h=e.setValue,y=e.onSelect,w=e.placeholder,C=e.isExpanded,k=void 0!==C&&C,I=e.setIsExpanded,g=e.filters,O=void 0===g?[E]:g,S=e.inputProps,N=e.labelProps,L=e.listboxOptionProps,P=e.listboxProps,R=e.highlightProps,D=e.isExpandedClassName,_=void 0===D?"":D,K=e.isCollapsedClassName,V=void 0===K?"":K,A=e.isExpandedStyle,F=e.isCollapsedStyle,T=o(e,["label","showLabel","items","selectedItem","value","setValue","onSelect","placeholder","isExpanded","setIsExpanded","filters","inputProps","labelProps","listboxOptionProps","listboxProps","highlightProps","isExpandedClassName","isCollapsedClassName","isExpandedStyle","isCollapsedStyle"]),j=x(k),M=j[0],q=j[1],B=j[2],H=function(e,t){var n=(0,r.useState)(e||""),a=n[0],o=n[1],i=(0,r.useCallback)((function(e){t?t(e):o(e)}),[t]);return(0,r.useEffect)((function(){o(e||"")}),[e]),[a,i]}(d,h),U=H[0],Z=H[1],z=(0,r.useId)(),G=function(e,t,n){var a=(0,r.useRef)(e),o=(0,r.useMemo)((function(){return n.reduce((function(e,n){return n(e,t)}),e)}),[e,n,t]);return(0,r.useEffect)((function(){a.current=o}),[o]),[o,a]}(c,(0,r.useDeferredValue)(U),O),J=G[0],Q=G[1],W=(0,r.useRef)(null),X=(0,r.useRef)(null),Y=function(e){var t=(0,r.useState)(e),n=t[0],a=t[1];return(0,r.useEffect)((function(){a(e)}),[e]),[n,a]}(s),$=Y[0],ee=Y[1],te=function(e){var t=e.itemsRef,n=e.listboxRef,a=e.comboboxInputRef,o=e.onSelect,i=e.isExpandedRef,l=e.setIsExpanded,u=e.setValue,c=e.setSelectedItem,s=(0,r.useCallback)((function(e){u&&u(e.currentTarget.value),l&&l(!0)}),[u,l]),d=(0,r.useCallback)((function(){!i.current&&l&&l(!0)}),[l]),f=(0,r.useCallback)((function(){i.current&&l&&l(!1)}),[l]),p=(0,r.useCallback)((function(e){"Escape"===e.key&&f()}),[]),v=(0,r.useCallback)((function(e){if(a.current&&n.current){var t=e.target;t&&(n.current.contains(t)||t===a.current)||f()}}),[f]),m=(0,r.useCallback)((function(){if(a.current&&n.current){var e=document.activeElement;e&&(n.current.contains(e)||e===a.current)||f()}}),[f]),b=(0,r.useCallback)((function(e){a.current&&a.current.focus(),u&&u(e.value),l&&l(!1),c&&c(e),o&&o(e)}),[u,o,l,c]),x=(0,r.useCallback)((function(e){var t="Space"===e.code&&e.ctrlKey&&e.altKey,r="ArrowDown"===e.key||t;if(n.current&&r)if(t&&e.preventDefault(),i.current){var a=n.current.firstElementChild;a&&"function"===typeof a.focus&&a.focus()}else l&&(l(!0),window.setTimeout((function(){if(n.current){var e=n.current.firstElementChild;e&&"function"===typeof e.focus&&e.focus()}})))}),[l]),E=(0,r.useCallback)((function(e){if(t.current){var r=t.current.find((function(t){return t.id===e.currentTarget.id}));if(r){if("Enter"===e.key)return b(r);if(n.current&&"Escape"!==e.key&&"Tab"!==e.key&&"Shift"!==e.key)if("ArrowDown"!==e.key&&"ArrowUp"!==e.key&&"Alt"!==e.key)a.current&&(a.current.focus(),a.current.dispatchEvent(new KeyboardEvent("keydown",{key:e.key})));else{e.preventDefault();var o=null;if(!(o="ArrowDown"===e.key||"Alt"===e.key?e.currentTarget.nextElementSibling||n.current.firstElementChild:e.currentTarget.previousElementSibling||n.current.lastElementChild))return;var i=o;i&&"function"===typeof i.focus&&i.focus()}}}}),[b]);return{closeOnEscape:p,handleClickOutside:v,handleFocusOutside:m,handleChange:s,expandOnFocus:d,handleSelect:b,handleKeyDownOnInput:x,handleKeyDownOnListboxOption:E}}({listboxRef:W,comboboxInputRef:X,isExpandedRef:B,setValue:Z,onSelect:y,itemsRef:Q,setIsExpanded:(0,r.useCallback)((function(e){return I?I(e):q(e)}),[I]),setSelectedItem:ee}),ne=te.handleClickOutside,re=te.handleFocusOutside,ae=te.closeOnEscape,oe=te.handleChange,ie=te.expandOnFocus,le=te.handleSelect,ue=te.handleKeyDownOnInput,ce=te.handleKeyDownOnListboxOption;return(0,r.useEffect)((function(){q(k)}),[k]),(0,r.useEffect)((function(){return window.addEventListener("click",ne),window.addEventListener("keyup",ae),function(){window.removeEventListener("click",ne),window.removeEventListener("keyup",ae)}}),[ne]),(0,r.useEffect)((function(){return window.addEventListener("focusin",re),function(){window.removeEventListener("focusin",re)}}),[re]),r.createElement("div",a({},T,{ref:t,className:"react-datalist-input__container ".concat(T.className)}),r.createElement(b,{listboxId:null===P||void 0===P?void 0:P.id,selectedItemId:null===$||void 0===$?void 0:$.id,isExpanded:M,currentInputValue:U},l&&r.createElement("label",a({},N,{className:"react-datalist-input__label ".concat(null===N||void 0===N?void 0:N.className),htmlFor:(null===S||void 0===S?void 0:S.id)||z}),n),r.createElement(f,a({},S,{ref:X,id:(null===S||void 0===S?void 0:S.id)||z,placeholder:w,value:U,onClick:u(ie,null===S||void 0===S?void 0:S.onClick),onFocus:u(ie,null===S||void 0===S?void 0:S.onFocus),onChange:u(oe,null===S||void 0===S?void 0:S.onChange),onKeyDown:u(ue,null===S||void 0===S?void 0:S.onKeyDown),"aria-label":l||"string"!==typeof n?void 0:n,className:"react-datalist-input__textbox ".concat(null===S||void 0===S?void 0:S.className)})),(J.length&&M||V||F)&&r.createElement(m,a({},P,{ref:W,"aria-hidden":M,className:"react-datalist-input__listbox ".concat(M?_:V," ").concat((null===P||void 0===P?void 0:P.className)||""),style:a(a({},M?A:F),null===P||void 0===P?void 0:P.style)}),J.map((function(e){return r.createElement(v,a({},L,{"aria-label":e.label||e.value,key:e.id,id:e.id,tabIndex:-1,onClick:u((function(){return le(e)}),null===L||void 0===L?void 0:L.onClick),onKeyDown:u(ce,null===L||void 0===L?void 0:L.onKeyDown),className:"react-datalist-input__listbox-option ".concat(null===L||void 0===L?void 0:L.className)}),r.createElement(p,a({},R,{currentInput:U}),e.node||e.value))})))))}));h.displayName="DatalistInput"}}]);
//# sourceMappingURL=794.dc607915.chunk.js.map