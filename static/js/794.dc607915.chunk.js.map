{"version":3,"file":"static/js/794.dc607915.chunk.js","mappings":"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","sources":["../node_modules/react-datalist-input/src/index.tsx"],"sourcesContent":["import type {\n  PropsWithChildren,\n  PropsWithRef,\n  HTMLAttributes,\n  InputHTMLAttributes,\n  ReactNode,\n  CSSProperties,\n  RefObject,\n  MutableRefObject,\n  SetStateAction,\n  Dispatch,\n} from 'react';\nimport React, {\n  createContext,\n  forwardRef,\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  useDeferredValue,\n  useId,\n} from 'react';\n\n/*\n * References:\n * [ARIA1.1#comboBox]: https://www.w3.org/TR/wai-aria-1.1/#combobox\n * [ARIA1.2#comboBox]: https://www.w3.org/TR/wai-aria-1.2/#combobox\n *\n * Low-level Components:\n * - ComboboxInput: The textbox input field\n * - Listbox: The container that holds the list of options\n * - ListboxOption: One listbox option\n * - Highlight: Highlighting of matching text of the listbox option\n *\n * High-level Components:\n * - Combobox: A container that you can pass all low-level components yourself (advanced use-cases)\n * - DatalistInput: A container that renders all low-level components for you (simple use-cases)\n */\n\n/*\n * \"Typically, the default state of a combobox is collapsed.\" [ARIA1.1#combobox]\n * If the developer does not manage the open state on its own, by default this component will collapse the listbox.\n * This ensures that the datalist input components (by default) matches the behavior of the native datalist element\n */\nconst DEFAULT_IS_EXPANDED = false;\n\nconst IS_PRODUCTION = process.env.NODE_ENV === 'production';\n\n/*\n * Utilities\n */\n\nconst contextRequiredWarning = (name: string) =>\n  `The ${name} component must be a child of Combobox. Please wrap the component inside Combobox to ensure that the required context is available.`;\n\n/**\n * This function is inspired by tiny-warning: https://github.com/alexreardon/tiny-warning\n */\nfunction assertWithWarning(condition: boolean, text: string): void {\n  // wrapping in production check for better dead code elimination\n  if (!IS_PRODUCTION) {\n    if (condition) {\n      return;\n    }\n\n    // check console for IE9 support which provides console\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    // Throwing an error and catching it immediately\n    // to improve debugging\n    // A consumer can use 'pause on caught exceptions'\n    // https://github.com/facebook/react/issues/4216\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\n/**\n * Composes different event handlers into a single event handler.\n */\ntype HandleWith = <Event>(...fns: Array<((e: Event) => void) | undefined>) => (e: Event) => void;\nconst handleWith: HandleWith =\n  (...fns) =>\n  (e) =>\n    fns.forEach((fn) => fn && fn(e));\n\n/*\n * Hooks and context\n */\n\ntype ComboboxContext = {\n  contextAvailable: boolean; // Flag that context is available\n  listboxId?: string; // The element that describes the option list of the element. [ARIA1.1#combobox]\n  selectedItemId?: string; // The element that describes the selected option of the combobox.\n  isExpanded?: boolean;\n  currentInputValue?: string;\n};\n\nconst ComboboxContext = createContext<ComboboxContext>({\n  contextAvailable: true,\n  listboxId: '',\n  selectedItemId: '',\n  isExpanded: DEFAULT_IS_EXPANDED,\n  currentInputValue: '',\n});\n\nconst useComboboxContext = () => useContext(ComboboxContext);\n\n/**\n * Use this hook to control the open state and input value of the combobox.\n * Pass the properties down to the DataListInput component.\n */\nconst useComboboxControls = (params?: { isExpanded: boolean; initialValue?: string }) => {\n  const [isExpanded, setIsExpanded] = useStateRef(params?.isExpanded);\n  const [value, setValue] = useState(params?.initialValue || '');\n  return {\n    isExpanded,\n    value,\n    setIsExpanded,\n    setValue,\n  };\n};\n\n/**\n * An elegant way to style elements based on the current state of the component.\n * Inspired by react-router: https://v5.reactrouter.com/web/api/NavLink/classname-string-func\n */\ntype ClassNameFunction<Params> = (params: Params) => string;\ntype ClassName<Params> = HTMLAttributes<HTMLLIElement>['className'] | ClassNameFunction<Params>;\nfunction useClassNameStr<Params>(className: ClassName<Params>, params: Params) {\n  return useMemo(\n    () => (!className || typeof className === 'string' ? className : className(params)),\n    [params, className],\n  );\n}\n\ntype UseComboboxHelpersConfigParams = {\n  itemsRef: MutableRefObject<Item[]>;\n  listboxRef: RefObject<HTMLElement>;\n  comboboxInputRef: RefObject<HTMLInputElement>;\n  isExpandedRef: React.MutableRefObject<boolean>;\n  onSelect?: (item: Item) => void;\n  setIsExpanded?: (isExpanded: boolean) => void;\n  setValue?: (value: string) => void;\n  setSelectedItem?: (item: Item) => void;\n};\n\n/**\n * The helpers returned by this hook can be used\n * to construct a custom Combobox behavior to your liking.\n * Wrap the low-level components in the Combobox component\n * and pass the helpers down if you need them.\n */\nfunction useComboboxHelpers({\n  itemsRef,\n  listboxRef,\n  comboboxInputRef,\n  onSelect,\n  isExpandedRef,\n  setIsExpanded,\n  setValue,\n  setSelectedItem,\n}: UseComboboxHelpersConfigParams) {\n  /**\n   * onChange callback for input field\n   */\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (setValue) setValue(e.currentTarget.value);\n      if (setIsExpanded) setIsExpanded(true);\n    },\n    [setValue, setIsExpanded],\n  );\n\n  /**\n   * onFocus callback for input field\n   */\n  const expandOnFocus = useCallback(() => {\n    if (!isExpandedRef.current && setIsExpanded) setIsExpanded(true);\n  }, [setIsExpanded]);\n\n  const handleCloseDatalist = useCallback(() => {\n    if (isExpandedRef.current && setIsExpanded) setIsExpanded(false);\n  }, [setIsExpanded]);\n\n  /**\n   * onKeyDown/onKeyUp callback for window\n   */\n  const closeOnEscape = useCallback((e: KeyboardEvent) => {\n    if (e.key === 'Escape') handleCloseDatalist();\n  }, []);\n\n  /**\n   * onClick callback for window\n   */\n  const handleClickOutside = useCallback(\n    (e: MouseEvent) => {\n      if (!comboboxInputRef.current || !listboxRef.current) return;\n      const targetElement = e.target;\n      if (\n        !targetElement ||\n        (!listboxRef.current.contains(targetElement as HTMLElement) && targetElement !== comboboxInputRef.current)\n      ) {\n        handleCloseDatalist();\n      }\n    },\n    [handleCloseDatalist],\n  );\n\n  /**\n   * onFocus callback for window\n   */\n  const handleFocusOutside = useCallback(() => {\n    if (!comboboxInputRef.current || !listboxRef.current) return;\n    const activeElement = document.activeElement;\n    if (!activeElement || (!listboxRef.current.contains(activeElement) && activeElement !== comboboxInputRef.current)) {\n      handleCloseDatalist();\n    }\n  }, [handleCloseDatalist]);\n\n  /**\n   * Callback for item selection (enter/click)\n   */\n  const handleSelect = useCallback(\n    (item: Item) => {\n      // return focus to input field after selection\n      if (comboboxInputRef.current) comboboxInputRef.current.focus();\n      if (setValue) setValue(item.value);\n      if (setIsExpanded) setIsExpanded(false);\n      if (setSelectedItem) setSelectedItem(item);\n      if (onSelect) onSelect(item); // onSelect at last to allow override of previous state changes\n    },\n    [setValue, onSelect, setIsExpanded, setSelectedItem],\n  );\n\n  /**\n   * keyDown callback for input field\n   */\n  const handleKeyDownOnInput = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      // Control+Option+Space is used by VoiceOver on Mac to open the menu\n      const isControlOptionSpace = e.code === 'Space' && e.ctrlKey && e.altKey;\n      const shouldVisitItems = e.key === 'ArrowDown' || isControlOptionSpace;\n      if (!listboxRef.current || !shouldVisitItems) return;\n      if (isControlOptionSpace) e.preventDefault();\n      if (isExpandedRef.current) {\n        const firstOption = listboxRef.current.firstElementChild as HTMLLIElement | null;\n        if (firstOption && typeof firstOption.focus === 'function') firstOption.focus();\n      } else if (setIsExpanded) {\n        setIsExpanded(true);\n        // wait for next tick (render)\n        window.setTimeout(() => {\n          if (!listboxRef.current) return;\n          const firstOption = listboxRef.current.firstElementChild as HTMLLIElement | null;\n          if (firstOption && typeof firstOption.focus === 'function') firstOption.focus();\n        });\n      }\n    },\n    [setIsExpanded],\n  );\n\n  /**\n   * keyDown callback for list element (listbox option)\n   * Uses keyDown instead of keyUp to support \"long-press\" to quickly navigate through list\n   */\n  const handleKeyDownOnListboxOption = useCallback(\n    (e: React.KeyboardEvent<HTMLLIElement>) => {\n      if (!itemsRef.current) return;\n      const item = itemsRef.current.find((item) => item.id === e.currentTarget.id);\n      if (!item) return;\n      if (e.key === 'Enter') return handleSelect(item); // Enter should act as Click. This will also submit a one input form correctly with the latest value.\n      if (!listboxRef.current || e.key === 'Escape' || e.key === 'Tab' || e.key === 'Shift') return; // Do nothing on meta keys\n\n      // Used for navigation\n      if (e.key === 'ArrowDown' || e.key === 'ArrowUp' || e.key === 'Alt') {\n        e.preventDefault(); // prevent safari from doing crazy text selection things\n        let nextNode: Element | null = null;\n        if (e.key === 'ArrowDown' || e.key === 'Alt') {\n          nextNode = e.currentTarget.nextElementSibling || listboxRef.current.firstElementChild;\n        } else {\n          nextNode = e.currentTarget.previousElementSibling || listboxRef.current.lastElementChild;\n        }\n\n        if (!nextNode) return;\n        const nextOption = nextNode as HTMLLIElement;\n        if (nextOption && typeof nextOption.focus === 'function') nextOption.focus();\n        return;\n      }\n\n      // Anything else should go to the input field\n      if (!comboboxInputRef.current) return;\n      comboboxInputRef.current.focus();\n      comboboxInputRef.current.dispatchEvent(new KeyboardEvent('keydown', { key: e.key }));\n    },\n    [handleSelect],\n  );\n\n  return {\n    closeOnEscape,\n    handleClickOutside,\n    handleFocusOutside,\n    handleChange,\n    expandOnFocus,\n    handleSelect,\n    handleKeyDownOnInput,\n    handleKeyDownOnListboxOption,\n  };\n}\n\n/*\n * Low-level components\n */\n\ntype ComboboxInputProps = Omit<InputHTMLAttributes<HTMLInputElement>, 'value'> & {\n  value?: string;\n};\n\n/**\n * The textbox input field.\n * Does currently not implement aria-activedescendant which is not obligatory for datalist input components.\n * Autocomplete off to prevent browser autocomplete from interfering with our own; can be overridden with props.\n */\nconst ComboboxInput = forwardRef<HTMLInputElement, PropsWithRef<ComboboxInputProps>>(\n  ({ value, ...props }, forwardedRef) => {\n    const { contextAvailable, listboxId, isExpanded } = useComboboxContext();\n    assertWithWarning(contextAvailable, contextRequiredWarning(ComboboxInput.name));\n\n    return (\n      <input\n        autoComplete=\"off\"\n        {...props}\n        ref={forwardedRef}\n        value={value}\n        type=\"text\"\n        role=\"combobox\"\n        aria-autocomplete=\"list\"\n        aria-haspopup=\"listbox\"\n        aria-expanded={isExpanded}\n        aria-controls={listboxId}\n      />\n    );\n  },\n);\nComboboxInput.displayName = 'ComboboxInput';\n\ntype HighlightProps = HTMLAttributes<HTMLElement> & {\n  currentInput?: string;\n  as?: 'mark' | 'span';\n};\n\n/**\n * Optional highlight component for the listbox option text.\n * Should be wrapped by ListboxOption. Provide ListBoxOption an aria-label to ensure accessibility, especially if using mark.\n */\nconst Highlight: React.FC<PropsWithChildren<HighlightProps>> = ({\n  children,\n  currentInput = '',\n  as = 'mark',\n  ...props\n}) => {\n  const markedChildren = useMemo(() => {\n    if (typeof children !== 'string') {\n      return children;\n    }\n    const index = children.toLowerCase().indexOf(currentInput.toLowerCase());\n    const inputLength = currentInput.length;\n    if (index === -1 || !inputLength) {\n      return children;\n    }\n    return (\n      <>\n        {children.substring(0, index)}\n        {as === 'mark' ? (\n          <mark {...props}>{children.substring(index, index + inputLength)}</mark>\n        ) : (\n          <span {...props}>{children.substring(index, index + inputLength)}</span>\n        )}\n        {children.substring(index + inputLength, children.length)}\n      </>\n    );\n  }, [currentInput, children]);\n\n  return <>{markedChildren}</>;\n};\n\ntype ListboxOptionClassNameParams = { isSelected: boolean };\ntype ListboxOptionProps = Omit<HTMLAttributes<HTMLLIElement>, 'className'> & {\n  className?: ClassName<ListboxOptionClassNameParams>;\n};\n\n/**\n * One listbox option.\n */\nconst ListboxOption = forwardRef<HTMLLIElement, PropsWithRef<ListboxOptionProps>>(\n  ({ children, id, className, ...props }, forwardedRef) => {\n    const { selectedItemId } = useComboboxContext();\n    const classNameStr = useClassNameStr<ListboxOptionClassNameParams>(className, {\n      isSelected: !!id && id === selectedItemId,\n    });\n\n    return (\n      <li {...props} ref={forwardedRef} id={id} className={classNameStr} role=\"option\">\n        {children}\n      </li>\n    );\n  },\n);\nListboxOption.displayName = 'ListboxOption';\n\ntype ListboxProps = HTMLAttributes<HTMLUListElement>;\n\n/**\n * The combobox popup list.\n */\nconst Listbox = forwardRef<HTMLUListElement, PropsWithRef<ListboxProps>>(({ children, ...props }, forwardedRef) => {\n  const { contextAvailable, listboxId, isExpanded } = useComboboxContext();\n  assertWithWarning(contextAvailable, contextRequiredWarning(Listbox.name));\n  const isExpandedRef = useRef(isExpanded);\n  const [hasExpanded, setHasExpanded] = useState(false);\n\n  useEffect(() => {\n    if (!isExpanded) {\n      setHasExpanded(false);\n    } else if (isExpanded && isExpanded !== isExpandedRef.current) {\n      setHasExpanded(true);\n    }\n    isExpandedRef.current = isExpanded; // drag pointer to the old value\n  }, [isExpanded]);\n\n  // TODO https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-live instead of title\n  return (\n    <ul\n      {...props}\n      ref={forwardedRef}\n      id={listboxId}\n      role=\"listbox\"\n      aria-live={hasExpanded ? props['aria-live'] || 'polite' : 'off'}\n    >\n      {children}\n    </ul>\n  );\n});\nListbox.displayName = 'Listbox';\n\n/*\n * Combobox - high-level component\n */\n\ntype ComboboxProps = {\n  listboxId?: ComboboxContext['listboxId'];\n  selectedItemId?: ComboboxContext['selectedItemId'];\n  isExpanded?: ComboboxContext['isExpanded'];\n  currentInputValue?: ComboboxContext['currentInputValue'];\n};\n\ntype Combobox = React.FC<PropsWithChildren<ComboboxProps>> & {\n  ComboboxInput: typeof ComboboxInput;\n  Listbox: typeof Listbox;\n  ListboxOption: typeof ListboxOption;\n  Highlight: typeof Highlight;\n};\n\n/**\n * A container that you can pass all low-level components yourself for advanced use-cases.\n * The Combobox provides the context for the combobox low-level components.\n */\nconst Combobox: Combobox = ({ currentInputValue, listboxId, selectedItemId, isExpanded = true, children }) => {\n  const id = useId();\n  return (\n    <ComboboxContext.Provider\n      value={{ currentInputValue, contextAvailable: true, listboxId: listboxId || id, selectedItemId, isExpanded }}\n    >\n      {children}\n    </ComboboxContext.Provider>\n  );\n};\n\nCombobox.ComboboxInput = ComboboxInput;\nCombobox.Listbox = Listbox;\nCombobox.ListboxOption = ListboxOption;\nCombobox.Highlight = Highlight;\n\n/*\n * DatalistInput - high-level component & its utilities\n */\n\n/**\n * Internal hook used to create a ref for a state value to allow access to the state value without triggering a re-render.\n */\nfunction useStateRef<S>(initialState: S): [S, (newState: S) => void, React.MutableRefObject<S>] {\n  const [state, setState] = useState(initialState);\n  const ref = useRef(initialState);\n  const setStateRef = (newState: S) => {\n    setState(newState);\n    ref.current = newState;\n  };\n  return [state, setStateRef, ref];\n}\n\n/**\n * Internal hook used to manipulate the value of the input field.\n */\nconst useInternalValue = (\n  value?: string,\n  setValue?: (str: string) => void | Dispatch<SetStateAction<string>>,\n): [string, (str: string) => void] => {\n  const [internalValue, setInternalValue] = useState(value || '');\n  const setValues = useCallback(\n    (newValue: string) => {\n      if (setValue) {\n        setValue(newValue);\n      } else {\n        setInternalValue(newValue);\n      }\n    },\n    [setValue],\n  );\n\n  useEffect(() => {\n    setInternalValue(value || '');\n  }, [value]);\n\n  return [internalValue, setValues];\n};\n\n/**\n * Internal hook to keep track of the selected item.\n */\nfunction useInternalSelectedItem(item?: Item): [Item | undefined, (item: Item) => void] {\n  const [selectedItem, setSelectedItem] = useState(item);\n\n  useEffect(() => {\n    setSelectedItem(item);\n  }, [item]);\n\n  return [selectedItem, setSelectedItem];\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Item = any & {\n  id: string;\n  value: string; // Used for filtering. Used for displaying and highlighting if node not provided.\n  node?: ReactNode; // Used for display.\n  label?: string; // If provided, will be used as the aria-label on the list element. If not provided, value will be used instead.\n};\n\ntype Filter = (items: Item[], value?: ComboboxInputProps['value']) => Item[];\n\n/**\n * Alternative function for matching the current input value (needle) and the values of the items array.\n * Returns true if item.value is not of type string (all items will be displayed and a custom filter must be used).\n */\nconst startsWithValueFilter: Filter = (items, value = '') =>\n  items.filter((item) =>\n    typeof item.value === 'string' ? item.value.substring(0, value.length).toLowerCase() === value.toLowerCase() : true,\n  );\n\n/**\n * Default function for matching the current input value (needle) and the values of the items array.\n * Returns true if item.value is not of type string (all items will be displayed and a custom filter must be used).\n */\nconst includesValueFilter: Filter = (items, value = '') =>\n  items.filter((item) =>\n    typeof item.value === 'string' ? item.value.toLowerCase().includes(value.toLocaleLowerCase()) : true,\n  );\n\nfunction useFilters(\n  items: Item[],\n  value: ComboboxInputProps['value'],\n  filters: Filter[],\n): [Item[], MutableRefObject<Item[]>] {\n  const filteredRef = useRef<Item[]>(items);\n  const filtered = useMemo(\n    () => filters.reduce((currentItems, filter) => filter(currentItems, value), items),\n    [items, filters, value],\n  );\n\n  useEffect(() => {\n    filteredRef.current = filtered;\n  }, [filtered]);\n\n  return [filtered, filteredRef];\n}\n\ntype LabelOptionProps =\n  | {\n      showLabel?: false;\n      label: string;\n    }\n  | {\n      showLabel?: true;\n      label: ReactNode;\n    };\n\ntype LabelProps = HTMLAttributes<HTMLLabelElement>;\n\n// eslint-disable-next-line @typescript-eslint/ban-types\ntype DatalistInputProps = LabelOptionProps &\n  Omit<HTMLAttributes<HTMLDivElement>, 'onSelect'> & {\n    items: Item[];\n    selectedItem?: Item;\n    value?: ComboboxInputProps['value'];\n    setValue?: UseComboboxHelpersConfigParams['setValue'];\n    onSelect?: UseComboboxHelpersConfigParams['onSelect'];\n    isExpanded?: ComboboxContext['isExpanded'];\n    setIsExpanded?: UseComboboxHelpersConfigParams['setIsExpanded'];\n    placeholder?: ComboboxInputProps['placeholder'];\n    filters?: Filter[];\n    inputProps?: ComboboxInputProps;\n    labelProps?: LabelProps;\n    listboxProps?: ListboxProps;\n    listboxOptionProps?: ListboxOptionProps;\n    highlightProps?: HighlightProps;\n    isExpandedClassName?: string;\n    isCollapsedClassName?: string;\n    isExpandedStyle?: CSSProperties;\n    isCollapsedStyle?: CSSProperties;\n  };\n\n/**\n * DatalistInput implements all lower-level components for you and provides a simple API for controlling the combobox.\n * Note: Use the useComboboxControls hook to control the value and expanded state of the combobox.\n * DatalistInput implements the ARIA1.2#comboBox specification, including keyboard navigation with ArrowUp and ArrowDown.\n * DatalistInput does currently not implement aria-activedescendant but shifts the focus to the listbox options on ArrowUp and ArrowDown.\n * Note: tabIndex of all listbox options is set to -1 to allow the user to use tab or shift tab to jump out of the datalist without the need to tab through all options.\n */\nconst DatalistInput = forwardRef<HTMLDivElement, PropsWithRef<DatalistInputProps>>(\n  (\n    {\n      label,\n      showLabel = true,\n      items,\n      selectedItem,\n      value,\n      setValue,\n      onSelect,\n      placeholder,\n      isExpanded = DEFAULT_IS_EXPANDED,\n      setIsExpanded,\n      filters = [includesValueFilter],\n      inputProps,\n      labelProps,\n      listboxOptionProps,\n      listboxProps,\n      highlightProps,\n      isExpandedClassName = '',\n      isCollapsedClassName = '',\n      isExpandedStyle,\n      isCollapsedStyle,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const [internalIsExpanded, setInternalIsExpanded, isExpandedRef] = useStateRef(isExpanded);\n    const [internalValue, setInternalValue] = useInternalValue(value, setValue);\n    const internalTextboxId = useId();\n    const debounceValue = useDeferredValue(internalValue);\n    const [filteredItems, filteredItemsRef] = useFilters(items, debounceValue, filters);\n    const listboxRef = useRef<HTMLUListElement>(null);\n    const comboboxInputRef = useRef<HTMLInputElement>(null);\n    const [internalSelectedItem, setSelectedItem] = useInternalSelectedItem(selectedItem);\n\n    const setIsExpandedStates = useCallback(\n      (state: boolean) => (setIsExpanded ? setIsExpanded(state) : setInternalIsExpanded(state)),\n      [setIsExpanded],\n    );\n\n    const {\n      handleClickOutside,\n      handleFocusOutside,\n      closeOnEscape,\n      handleChange,\n      expandOnFocus,\n      handleSelect,\n      handleKeyDownOnInput,\n      handleKeyDownOnListboxOption,\n    } = useComboboxHelpers({\n      listboxRef,\n      comboboxInputRef,\n      isExpandedRef,\n      setValue: setInternalValue,\n      onSelect,\n      itemsRef: filteredItemsRef,\n      setIsExpanded: setIsExpandedStates,\n      setSelectedItem,\n    });\n\n    useEffect(() => {\n      setInternalIsExpanded(isExpanded);\n    }, [isExpanded]);\n\n    useEffect(() => {\n      // separate useEffect so we don't re-run it twice with each dependency change\n      window.addEventListener('click', handleClickOutside);\n      window.addEventListener('keyup', closeOnEscape);\n      return () => {\n        window.removeEventListener('click', handleClickOutside);\n        window.removeEventListener('keyup', closeOnEscape);\n      };\n    }, [handleClickOutside]);\n\n    useEffect(() => {\n      // separate useEffect so we don't re-run it twice with each dependency change\n      window.addEventListener('focusin', handleFocusOutside);\n      return () => {\n        window.removeEventListener('focusin', handleFocusOutside);\n      };\n    }, [handleFocusOutside]);\n\n    return (\n      <div {...props} ref={forwardedRef} className={`react-datalist-input__container ${props.className}`}>\n        <Combobox\n          listboxId={listboxProps?.id}\n          selectedItemId={internalSelectedItem?.id}\n          isExpanded={internalIsExpanded}\n          currentInputValue={internalValue}\n        >\n          {showLabel && (\n            <label\n              {...labelProps}\n              className={`react-datalist-input__label ${labelProps?.className}`}\n              htmlFor={inputProps?.id || internalTextboxId}\n            >\n              {label}\n            </label>\n          )}\n          <ComboboxInput\n            {...inputProps}\n            ref={comboboxInputRef}\n            id={inputProps?.id || internalTextboxId}\n            placeholder={placeholder}\n            value={internalValue}\n            onClick={handleWith(expandOnFocus, inputProps?.onClick)}\n            onFocus={handleWith(expandOnFocus, inputProps?.onFocus)}\n            onChange={handleWith(handleChange, inputProps?.onChange)}\n            onKeyDown={handleWith(handleKeyDownOnInput, inputProps?.onKeyDown)}\n            aria-label={!showLabel && typeof label === 'string' ? label : undefined}\n            className={`react-datalist-input__textbox ${inputProps?.className}`}\n          />\n          {((filteredItems.length && internalIsExpanded) || isCollapsedClassName || isCollapsedStyle) && (\n            <Listbox\n              {...listboxProps}\n              ref={listboxRef}\n              aria-hidden={internalIsExpanded}\n              className={`react-datalist-input__listbox ${\n                internalIsExpanded ? isExpandedClassName : isCollapsedClassName\n              } ${listboxProps?.className || ''}`}\n              style={{\n                ...(internalIsExpanded ? isExpandedStyle : isCollapsedStyle),\n                ...listboxProps?.style,\n              }}\n            >\n              {filteredItems.map((item) => (\n                <ListboxOption\n                  {...listboxOptionProps}\n                  aria-label={item.label || item.value}\n                  key={item.id}\n                  id={item.id}\n                  tabIndex={-1}\n                  onClick={handleWith(() => handleSelect(item), listboxOptionProps?.onClick)}\n                  onKeyDown={handleWith(handleKeyDownOnListboxOption, listboxOptionProps?.onKeyDown)}\n                  className={`react-datalist-input__listbox-option ${listboxOptionProps?.className}`}\n                >\n                  <Highlight {...highlightProps} currentInput={internalValue}>\n                    {item.node || item.value}\n                  </Highlight>\n                </ListboxOption>\n              ))}\n            </Listbox>\n          )}\n        </Combobox>\n      </div>\n    );\n  },\n);\nDatalistInput.displayName = 'DatalistInput';\n\nexport type {\n  DatalistInputProps,\n  ComboboxProps,\n  ComboboxInputProps,\n  ListboxProps,\n  ListboxOptionProps,\n  HighlightProps,\n  UseComboboxHelpersConfigParams,\n  Item,\n  Filter,\n};\n\nexport {\n  Combobox,\n  DatalistInput,\n  startsWithValueFilter,\n  includesValueFilter,\n  useFilters,\n  useComboboxContext,\n  useComboboxControls,\n  useComboboxHelpers,\n};\n\nexport default DatalistInput;\n"],"names":["contextRequiredWarning","name","assertWithWarning","condition","text","handleWith","fns","_i","e","forEach","fn","ComboboxContext","createContext","contextAvailable","listboxId","selectedItemId","isExpanded","currentInputValue","useComboboxContext","useContext","useComboboxControls","params","useStateRef","setIsExpanded","useState","initialValue","value","setValue","ComboboxInput","forwardRef","_a","forwardedRef","props","React","autoComplete","ref","type","role","displayName","Highlight","children","_b","currentInput","_c","as","markedChildren","useMemo","index","toLowerCase","indexOf","inputLength","length","substring","ListboxOption","id","className","__rest","classNameStr","useClassNameStr","isSelected","Listbox","isExpandedRef","useRef","hasExpanded","setHasExpanded","useEffect","current","Combobox","useId","Provider","initialState","state","setState","newState","includesValueFilter","items","filter","item","includes","toLocaleLowerCase","DatalistInput","label","showLabel","selectedItem","onSelect","placeholder","_d","filters","inputProps","labelProps","listboxOptionProps","listboxProps","highlightProps","_e","isExpandedClassName","_f","isCollapsedClassName","isExpandedStyle","isCollapsedStyle","internalIsExpanded","setInternalIsExpanded","internalValue","setInternalValue","setValues","useCallback","newValue","useInternalValue","internalTextboxId","filteredRef","filtered","reduce","currentItems","useFilters","useDeferredValue","filteredItems","filteredItemsRef","listboxRef","comboboxInputRef","setSelectedItem","useInternalSelectedItem","internalSelectedItem","itemsRef","handleChange","currentTarget","expandOnFocus","handleCloseDatalist","closeOnEscape","key","handleClickOutside","targetElement","target","contains","handleFocusOutside","activeElement","document","handleSelect","focus","handleKeyDownOnInput","isControlOptionSpace","code","ctrlKey","altKey","shouldVisitItems","preventDefault","firstOption","firstElementChild","window","setTimeout","handleKeyDownOnListboxOption","find","dispatchEvent","KeyboardEvent","nextNode","nextElementSibling","previousElementSibling","lastElementChild","nextOption","useComboboxHelpers","addEventListener","removeEventListener","htmlFor","__assign","onClick","onFocus","onChange","onKeyDown","undefined","style","map","tabIndex","node"],"sourceRoot":""}